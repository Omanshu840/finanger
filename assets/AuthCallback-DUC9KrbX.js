import{i,m as l,r as u,j as s,t,s as d}from"./index-MHHjkg74.js";function m(){const e=i(),[r]=l();return u.useEffect(()=>{(async()=>{try{const a=r.get("code"),c=r.get("error"),n=r.get("error_description");if(c){t.error("Authentication failed",{description:n||c}),e("/auth",{replace:!0});return}if(a){const{error:o}=await d.auth.exchangeCodeForSession(a);if(o){t.error("Failed to complete sign in",{description:o.message}),e("/auth",{replace:!0});return}t.success("Successfully signed in!"),e("/dashboard",{replace:!0})}else e("/auth",{replace:!0})}catch(a){console.error("Callback error:",a),t.error("An unexpected error occurred"),e("/auth",{replace:!0})}})()},[e,r]),s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Completing sign in..."})]})})}export{m as default};
