import{c as We,r,j as e,q as D,I as Qe,o as Kt,J as Ge,K as Yt,p as et,M as Ke,a6 as Gt,n as R,N as qt,w as I,y as q,Q as Zt,a7 as tt,x as Jt,V as Xt,_ as Qt,Y as eo,Z as to,$ as oo,a0 as no,a1 as ro,a2 as so,d as E,a8 as ot,f as ao,a9 as lo,C as io,aa as co,T as uo,D as po,F as nt,P as fo,O as mo,ab as ho,H as rt,g as go,L as Ne,B as he,ac as st,ad as xo,t as G,ae as qe,a as vo,u as So,s as Ze,U as wo}from"./index-4zS9zYSY.js";import{o as yo,s as ve,n as Je,u as jo,a as Co,M as No,F as bo,b as ie,c as ce,d as de,e as ue,g as pe,f as fe}from"./form-Z6e9nC6i.js";import{C as be,d as _e,a as Le,b as Ve,c as Fe,L as _o,I as Io}from"./label-qlvPDQ9l.js";import{c as Xe,a as at,C as To,B as Ao,s as Eo}from"./index-c-CV_EDr.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Po=We("chevron-up",Do);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mo=We("external-link",Ro);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ko=We("refresh-cw",Oo),Lo=yo({base_currency:ve().length(3,"Currency code must be 3 characters"),timezone:ve().min(1,"Timezone is required"),locale:ve().min(1,"Locale is required"),first_day_of_week:Je().min(0).max(6),first_day_of_month:Je().min(1).max(28),number_format:ve().min(1,"Number format is required")});function Vo(t){const o=r.useRef({value:t,previous:t});return r.useMemo(()=>(o.current.value!==t&&(o.current.previous=o.current.value,o.current.value=t),o.current.previous),[t])}var lt=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Fo="VisuallyHidden",Bo=r.forwardRef((t,o)=>e.jsx(D.span,{...t,ref:o,style:{...lt,...t.style}}));Bo.displayName=Fo;var Ho=[" ","Enter","ArrowUp","ArrowDown"],Uo=[" ","Enter"],te="Select",[Te,Ae,zo]=Gt(te),[se]=et(te,[zo,Qe]),Ee=Qe(),[$o,Z]=se(te),[Wo,Ko]=se(te),it=t=>{const{__scopeSelect:o,children:n,open:s,defaultOpen:a,onOpenChange:d,value:i,defaultValue:l,onValueChange:c,dir:p,name:S,autoComplete:u,disabled:f,required:N,form:x}=t,m=Ee(o),[v,y]=r.useState(null),[g,w]=r.useState(null),[$,M]=r.useState(!1),ae=Kt(p),[T,k]=Ge({prop:s,defaultProp:a??!1,onChange:d,caller:te}),[W,X]=Ge({prop:i,defaultProp:l,onChange:c,caller:te}),V=r.useRef(null),F=v?x||!!v.closest("form"):!0,[K,B]=r.useState(new Set),H=Array.from(K).map(A=>A.props.value).join(";");return e.jsx(Yt,{...m,children:e.jsxs($o,{required:N,scope:o,trigger:v,onTriggerChange:y,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:$,onValueNodeHasChildrenChange:M,contentId:Ke(),value:W,onValueChange:X,open:T,onOpenChange:k,dir:ae,triggerPointerDownPosRef:V,disabled:f,children:[e.jsx(Te.Provider,{scope:o,children:e.jsx(Wo,{scope:t.__scopeSelect,onNativeOptionAdd:r.useCallback(A=>{B(L=>new Set(L).add(A))},[]),onNativeOptionRemove:r.useCallback(A=>{B(L=>{const U=new Set(L);return U.delete(A),U})},[]),children:n})}),F?e.jsxs(Et,{"aria-hidden":!0,required:N,tabIndex:-1,name:S,autoComplete:u,value:W,onChange:A=>X(A.target.value),disabled:f,form:x,children:[W===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},H):null]})})};it.displayName=te;var ct="SelectTrigger",dt=r.forwardRef((t,o)=>{const{__scopeSelect:n,disabled:s=!1,...a}=t,d=Ee(n),i=Z(ct,n),l=i.disabled||s,c=R(o,i.onTriggerChange),p=Ae(n),S=r.useRef("touch"),[u,f,N]=Pt(m=>{const v=p().filter(w=>!w.disabled),y=v.find(w=>w.value===i.value),g=Rt(v,m,y);g!==void 0&&i.onValueChange(g.value)}),x=m=>{l||(i.onOpenChange(!0),N()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return e.jsx(qt,{asChild:!0,...d,children:e.jsx(D.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Dt(i.value)?"":void 0,...a,ref:c,onClick:I(a.onClick,m=>{m.currentTarget.focus(),S.current!=="mouse"&&x(m)}),onPointerDown:I(a.onPointerDown,m=>{S.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:I(a.onKeyDown,m=>{const v=u.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&Ho.includes(m.key)&&(x(),m.preventDefault())})})})});dt.displayName=ct;var ut="SelectValue",pt=r.forwardRef((t,o)=>{const{__scopeSelect:n,className:s,style:a,children:d,placeholder:i="",...l}=t,c=Z(ut,n),{onValueNodeHasChildrenChange:p}=c,S=d!==void 0,u=R(o,c.onValueNodeChange);return q(()=>{p(S)},[p,S]),e.jsx(D.span,{...l,ref:u,style:{pointerEvents:"none"},children:Dt(c.value)?e.jsx(e.Fragment,{children:i}):d})});pt.displayName=ut;var Yo="SelectIcon",ft=r.forwardRef((t,o)=>{const{__scopeSelect:n,children:s,...a}=t;return e.jsx(D.span,{"aria-hidden":!0,...a,ref:o,children:s||"â–¼"})});ft.displayName=Yo;var Go="SelectPortal",mt=t=>e.jsx(Zt,{asChild:!0,...t});mt.displayName=Go;var oe="SelectContent",ht=r.forwardRef((t,o)=>{const n=Z(oe,t.__scopeSelect),[s,a]=r.useState();if(q(()=>{a(new DocumentFragment)},[]),!n.open){const d=s;return d?tt.createPortal(e.jsx(gt,{scope:t.__scopeSelect,children:e.jsx(Te.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),d):null}return e.jsx(xt,{...t,ref:o})});ht.displayName=oe;var O=10,[gt,J]=se(oe),qo="SelectContentImpl",Zo=to("SelectContent.RemoveScroll"),xt=r.forwardRef((t,o)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:d,onPointerDownOutside:i,side:l,sideOffset:c,align:p,alignOffset:S,arrowPadding:u,collisionBoundary:f,collisionPadding:N,sticky:x,hideWhenDetached:m,avoidCollisions:v,...y}=t,g=Z(oe,n),[w,$]=r.useState(null),[M,ae]=r.useState(null),T=R(o,h=>$(h)),[k,W]=r.useState(null),[X,V]=r.useState(null),F=Ae(n),[K,B]=r.useState(!1),H=r.useRef(!1);r.useEffect(()=>{if(w)return Xt(w)},[w]),Qt();const A=r.useCallback(h=>{const[b,...P]=F().map(_=>_.ref.current),[j]=P.slice(-1),C=document.activeElement;for(const _ of h)if(_===C||(_?.scrollIntoView({block:"nearest"}),_===b&&M&&(M.scrollTop=0),_===j&&M&&(M.scrollTop=M.scrollHeight),_?.focus(),document.activeElement!==C))return},[F,M]),L=r.useCallback(()=>A([k,w]),[A,k,w]);r.useEffect(()=>{K&&L()},[K,L]);const{onOpenChange:U,triggerPointerDownPosRef:Y}=g;r.useEffect(()=>{if(w){let h={x:0,y:0};const b=j=>{h={x:Math.abs(Math.round(j.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(j.pageY)-(Y.current?.y??0))}},P=j=>{h.x<=10&&h.y<=10?j.preventDefault():w.contains(j.target)||U(!1),document.removeEventListener("pointermove",b),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",P,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",P,{capture:!0})}}},[w,U,Y]),r.useEffect(()=>{const h=()=>U(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[U]);const[De,ge]=Pt(h=>{const b=F().filter(C=>!C.disabled),P=b.find(C=>C.ref.current===document.activeElement),j=Rt(b,h,P);j&&setTimeout(()=>j.ref.current.focus())}),Pe=r.useCallback((h,b,P)=>{const j=!H.current&&!P;(g.value!==void 0&&g.value===b||j)&&(W(h),j&&(H.current=!0))},[g.value]),Re=r.useCallback(()=>w?.focus(),[w]),ne=r.useCallback((h,b,P)=>{const j=!H.current&&!P;(g.value!==void 0&&g.value===b||j)&&V(h)},[g.value]),xe=s==="popper"?Be:vt,le=xe===Be?{side:l,sideOffset:c,align:p,alignOffset:S,arrowPadding:u,collisionBoundary:f,collisionPadding:N,sticky:x,hideWhenDetached:m,avoidCollisions:v}:{};return e.jsx(gt,{scope:n,content:w,viewport:M,onViewportChange:ae,itemRefCallback:Pe,selectedItem:k,onItemLeave:Re,itemTextRefCallback:ne,focusSelectedItem:L,selectedItemText:X,position:s,isPositioned:K,searchRef:De,children:e.jsx(eo,{as:Zo,allowPinchZoom:!0,children:e.jsx(oo,{asChild:!0,trapped:g.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:I(a,h=>{g.trigger?.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(no,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:e.jsx(xe,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:h=>h.preventDefault(),...y,...le,onPlaced:()=>B(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:I(y.onKeyDown,h=>{const b=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!b&&h.key.length===1&&ge(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let j=F().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(h.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const C=h.target,_=j.indexOf(C);j=j.slice(_+1)}setTimeout(()=>A(j)),h.preventDefault()}})})})})})})});xt.displayName=qo;var Jo="SelectItemAlignedPosition",vt=r.forwardRef((t,o)=>{const{__scopeSelect:n,onPlaced:s,...a}=t,d=Z(oe,n),i=J(oe,n),[l,c]=r.useState(null),[p,S]=r.useState(null),u=R(o,T=>S(T)),f=Ae(n),N=r.useRef(!1),x=r.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:g}=i,w=r.useCallback(()=>{if(d.trigger&&d.valueNode&&l&&p&&m&&v&&y){const T=d.trigger.getBoundingClientRect(),k=p.getBoundingClientRect(),W=d.valueNode.getBoundingClientRect(),X=y.getBoundingClientRect();if(d.dir!=="rtl"){const C=X.left-k.left,_=W.left-C,Q=T.left-_,ee=T.width+Q,Me=Math.max(ee,k.width),Oe=window.innerWidth-O,ke=Xe(_,[O,Math.max(O,Oe-Me)]);l.style.minWidth=ee+"px",l.style.left=ke+"px"}else{const C=k.right-X.right,_=window.innerWidth-W.right-C,Q=window.innerWidth-T.right-_,ee=T.width+Q,Me=Math.max(ee,k.width),Oe=window.innerWidth-O,ke=Xe(_,[O,Math.max(O,Oe-Me)]);l.style.minWidth=ee+"px",l.style.right=ke+"px"}const V=f(),F=window.innerHeight-O*2,K=m.scrollHeight,B=window.getComputedStyle(p),H=parseInt(B.borderTopWidth,10),A=parseInt(B.paddingTop,10),L=parseInt(B.borderBottomWidth,10),U=parseInt(B.paddingBottom,10),Y=H+A+K+U+L,De=Math.min(v.offsetHeight*5,Y),ge=window.getComputedStyle(m),Pe=parseInt(ge.paddingTop,10),Re=parseInt(ge.paddingBottom,10),ne=T.top+T.height/2-O,xe=F-ne,le=v.offsetHeight/2,h=v.offsetTop+le,b=H+A+h,P=Y-b;if(b<=ne){const C=V.length>0&&v===V[V.length-1].ref.current;l.style.bottom="0px";const _=p.clientHeight-m.offsetTop-m.offsetHeight,Q=Math.max(xe,le+(C?Re:0)+_+L),ee=b+Q;l.style.height=ee+"px"}else{const C=V.length>0&&v===V[0].ref.current;l.style.top="0px";const Q=Math.max(ne,H+m.offsetTop+(C?Pe:0)+le)+P;l.style.height=Q+"px",m.scrollTop=b-ne+m.offsetTop}l.style.margin=`${O}px 0`,l.style.minHeight=De+"px",l.style.maxHeight=F+"px",s?.(),requestAnimationFrame(()=>N.current=!0)}},[f,d.trigger,d.valueNode,l,p,m,v,y,d.dir,s]);q(()=>w(),[w]);const[$,M]=r.useState();q(()=>{p&&M(window.getComputedStyle(p).zIndex)},[p]);const ae=r.useCallback(T=>{T&&x.current===!0&&(w(),g?.(),x.current=!1)},[w,g]);return e.jsx(Qo,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:N,onScrollButtonChange:ae,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:e.jsx(D.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});vt.displayName=Jo;var Xo="SelectPopperPosition",Be=r.forwardRef((t,o)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=O,...d}=t,i=Ee(n);return e.jsx(ro,{...i,...d,ref:o,align:s,collisionPadding:a,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Be.displayName=Xo;var[Qo,Ye]=se(oe,{}),He="SelectViewport",St=r.forwardRef((t,o)=>{const{__scopeSelect:n,nonce:s,...a}=t,d=J(He,n),i=Ye(He,n),l=R(o,d.onViewportChange),c=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(Te.Slot,{scope:n,children:e.jsx(D.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:I(a.onScroll,p=>{const S=p.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=i;if(f?.current&&u){const N=Math.abs(c.current-S.scrollTop);if(N>0){const x=window.innerHeight-O*2,m=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),y=Math.max(m,v);if(y<x){const g=y+N,w=Math.min(x,g),$=g-w;u.style.height=w+"px",u.style.bottom==="0px"&&(S.scrollTop=$>0?$:0,u.style.justifyContent="flex-end")}}}c.current=S.scrollTop})})})]})});St.displayName=He;var wt="SelectGroup",[en,tn]=se(wt),on=r.forwardRef((t,o)=>{const{__scopeSelect:n,...s}=t,a=Ke();return e.jsx(en,{scope:n,id:a,children:e.jsx(D.div,{role:"group","aria-labelledby":a,...s,ref:o})})});on.displayName=wt;var yt="SelectLabel",nn=r.forwardRef((t,o)=>{const{__scopeSelect:n,...s}=t,a=tn(yt,n);return e.jsx(D.div,{id:a.id,...s,ref:o})});nn.displayName=yt;var Ie="SelectItem",[rn,jt]=se(Ie),Ct=r.forwardRef((t,o)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:d,...i}=t,l=Z(Ie,n),c=J(Ie,n),p=l.value===s,[S,u]=r.useState(d??""),[f,N]=r.useState(!1),x=R(o,g=>c.itemRefCallback?.(g,s,a)),m=Ke(),v=r.useRef("touch"),y=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(rn,{scope:n,value:s,disabled:a,textId:m,isSelected:p,onItemTextChange:r.useCallback(g=>{u(w=>w||(g?.textContent??"").trim())},[]),children:e.jsx(Te.ItemSlot,{scope:n,value:s,disabled:a,textValue:S,children:e.jsx(D.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":p&&f,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:x,onFocus:I(i.onFocus,()=>N(!0)),onBlur:I(i.onBlur,()=>N(!1)),onClick:I(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:I(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:I(i.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:I(i.onPointerMove,g=>{v.current=g.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:I(i.onPointerLeave,g=>{g.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:I(i.onKeyDown,g=>{c.searchRef?.current!==""&&g.key===" "||(Uo.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});Ct.displayName=Ie;var me="SelectItemText",Nt=r.forwardRef((t,o)=>{const{__scopeSelect:n,className:s,style:a,...d}=t,i=Z(me,n),l=J(me,n),c=jt(me,n),p=Ko(me,n),[S,u]=r.useState(null),f=R(o,y=>u(y),c.onItemTextChange,y=>l.itemTextRefCallback?.(y,c.value,c.disabled)),N=S?.textContent,x=r.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:N},c.value),[c.disabled,c.value,N]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=p;return q(()=>(m(x),()=>v(x)),[m,v,x]),e.jsxs(e.Fragment,{children:[e.jsx(D.span,{id:c.textId,...d,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?tt.createPortal(d.children,i.valueNode):null]})});Nt.displayName=me;var bt="SelectItemIndicator",_t=r.forwardRef((t,o)=>{const{__scopeSelect:n,...s}=t;return jt(bt,n).isSelected?e.jsx(D.span,{"aria-hidden":!0,...s,ref:o}):null});_t.displayName=bt;var Ue="SelectScrollUpButton",It=r.forwardRef((t,o)=>{const n=J(Ue,t.__scopeSelect),s=Ye(Ue,t.__scopeSelect),[a,d]=r.useState(!1),i=R(o,s.onScrollButtonChange);return q(()=>{if(n.viewport&&n.isPositioned){let l=function(){const p=c.scrollTop>0;d(p)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(At,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});It.displayName=Ue;var ze="SelectScrollDownButton",Tt=r.forwardRef((t,o)=>{const n=J(ze,t.__scopeSelect),s=Ye(ze,t.__scopeSelect),[a,d]=r.useState(!1),i=R(o,s.onScrollButtonChange);return q(()=>{if(n.viewport&&n.isPositioned){let l=function(){const p=c.scrollHeight-c.clientHeight,S=Math.ceil(c.scrollTop)<p;d(S)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(At,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Tt.displayName=ze;var At=r.forwardRef((t,o)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=t,d=J("SelectScrollButton",n),i=r.useRef(null),l=Ae(n),c=r.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return r.useEffect(()=>()=>c(),[c]),q(()=>{l().find(S=>S.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(D.div,{"aria-hidden":!0,...a,ref:o,style:{flexShrink:0,...a.style},onPointerDown:I(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:I(a.onPointerMove,()=>{d.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:I(a.onPointerLeave,()=>{c()})})}),sn="SelectSeparator",an=r.forwardRef((t,o)=>{const{__scopeSelect:n,...s}=t;return e.jsx(D.div,{"aria-hidden":!0,...s,ref:o})});an.displayName=sn;var $e="SelectArrow",ln=r.forwardRef((t,o)=>{const{__scopeSelect:n,...s}=t,a=Ee(n),d=Z($e,n),i=J($e,n);return d.open&&i.position==="popper"?e.jsx(so,{...a,...s,ref:o}):null});ln.displayName=$e;var cn="SelectBubbleInput",Et=r.forwardRef(({__scopeSelect:t,value:o,...n},s)=>{const a=r.useRef(null),d=R(s,a),i=Vo(o);return r.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==o&&S){const u=new Event("change",{bubbles:!0});S.call(l,o),l.dispatchEvent(u)}},[i,o]),e.jsx(D.select,{...n,style:{...lt,...n.style},ref:d,defaultValue:o})});Et.displayName=cn;function Dt(t){return t===""||t===void 0}function Pt(t){const o=Jt(t),n=r.useRef(""),s=r.useRef(0),a=r.useCallback(i=>{const l=n.current+i;o(l),(function c(p){n.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(l)},[o]),d=r.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,d]}function Rt(t,o,n){const a=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,d=n?t.indexOf(n):-1;let i=dn(t,Math.max(d,0));a.length===1&&(i=i.filter(p=>p!==n));const c=i.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function dn(t,o){return t.map((n,s)=>t[(o+s)%t.length])}var un=it,pn=dt,fn=pt,mn=ft,hn=mt,gn=ht,xn=St,vn=Ct,Sn=Nt,wn=_t,yn=It,jn=Tt;function Se({...t}){return e.jsx(un,{"data-slot":"select",...t})}function we({...t}){return e.jsx(fn,{"data-slot":"select-value",...t})}function ye({className:t,size:o="default",children:n,...s}){return e.jsxs(pn,{"data-slot":"select-trigger","data-size":o,className:E("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,e.jsx(mn,{asChild:!0,children:e.jsx(at,{className:"size-4 opacity-50"})})]})}function je({className:t,children:o,position:n="popper",...s}){return e.jsx(hn,{children:e.jsxs(gn,{"data-slot":"select-content",className:E("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[e.jsx(Cn,{}),e.jsx(xn,{className:E("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:o}),e.jsx(Nn,{})]})})}function Ce({className:t,children:o,...n}){return e.jsxs(vn,{"data-slot":"select-item",className:E("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(wn,{children:e.jsx(To,{className:"size-4"})})}),e.jsx(Sn,{children:o})]})}function Cn({className:t,...o}){return e.jsx(yn,{"data-slot":"select-scroll-up-button",className:E("flex cursor-default items-center justify-center py-1",t),...o,children:e.jsx(Po,{className:"size-4"})})}function Nn({className:t,...o}){return e.jsx(jn,{"data-slot":"select-scroll-down-button",className:E("flex cursor-default items-center justify-center py-1",t),...o,children:e.jsx(at,{className:"size-4"})})}var Mt="AlertDialog",[bn]=et(Mt,[ot]),z=ot(),Ot=t=>{const{__scopeAlertDialog:o,...n}=t,s=z(o);return e.jsx(ao,{...s,...n,modal:!0})};Ot.displayName=Mt;var _n="AlertDialogTrigger",In=r.forwardRef((t,o)=>{const{__scopeAlertDialog:n,...s}=t,a=z(n);return e.jsx(ho,{...a,...s,ref:o})});In.displayName=_n;var Tn="AlertDialogPortal",kt=t=>{const{__scopeAlertDialog:o,...n}=t,s=z(o);return e.jsx(fo,{...s,...n})};kt.displayName=Tn;var An="AlertDialogOverlay",Lt=r.forwardRef((t,o)=>{const{__scopeAlertDialog:n,...s}=t,a=z(n);return e.jsx(mo,{...a,...s,ref:o})});Lt.displayName=An;var re="AlertDialogContent",[En,Dn]=bn(re),Pn=co("AlertDialogContent"),Vt=r.forwardRef((t,o)=>{const{__scopeAlertDialog:n,children:s,...a}=t,d=z(n),i=r.useRef(null),l=R(o,i),c=r.useRef(null);return e.jsx(lo,{contentName:re,titleName:Ft,docsSlug:"alert-dialog",children:e.jsx(En,{scope:n,cancelRef:c,children:e.jsxs(io,{role:"alertdialog",...d,...a,ref:l,onOpenAutoFocus:I(a.onOpenAutoFocus,p=>{p.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[e.jsx(Pn,{children:s}),e.jsx(Mn,{contentRef:i})]})})})});Vt.displayName=re;var Ft="AlertDialogTitle",Bt=r.forwardRef((t,o)=>{const{__scopeAlertDialog:n,...s}=t,a=z(n);return e.jsx(uo,{...a,...s,ref:o})});Bt.displayName=Ft;var Ht="AlertDialogDescription",Ut=r.forwardRef((t,o)=>{const{__scopeAlertDialog:n,...s}=t,a=z(n);return e.jsx(po,{...a,...s,ref:o})});Ut.displayName=Ht;var Rn="AlertDialogAction",zt=r.forwardRef((t,o)=>{const{__scopeAlertDialog:n,...s}=t,a=z(n);return e.jsx(nt,{...a,...s,ref:o})});zt.displayName=Rn;var $t="AlertDialogCancel",Wt=r.forwardRef((t,o)=>{const{__scopeAlertDialog:n,...s}=t,{cancelRef:a}=Dn($t,n),d=z(n),i=R(o,a);return e.jsx(nt,{...d,...s,ref:i})});Wt.displayName=$t;var Mn=({contentRef:t})=>{const o=`\`${re}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${re}\` by passing a \`${Ht}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${re}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(o)},[o,t]),null},On=Ot,kn=kt,Ln=Lt,Vn=Vt,Fn=zt,Bn=Wt,Hn=Bt,Un=Ut;function zn({...t}){return e.jsx(On,{"data-slot":"alert-dialog",...t})}function $n({...t}){return e.jsx(kn,{"data-slot":"alert-dialog-portal",...t})}function Wn({className:t,...o}){return e.jsx(Ln,{"data-slot":"alert-dialog-overlay",className:E("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...o})}function Kn({className:t,...o}){return e.jsxs($n,{children:[e.jsx(Wn,{}),e.jsx(Vn,{"data-slot":"alert-dialog-content",className:E("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o})]})}function Yn({className:t,...o}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:E("flex flex-col gap-2 text-center sm:text-left",t),...o})}function Gn({className:t,...o}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:E("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...o})}function qn({className:t,...o}){return e.jsx(Hn,{"data-slot":"alert-dialog-title",className:E("text-lg font-semibold",t),...o})}function Zn({className:t,...o}){return e.jsx(Un,{"data-slot":"alert-dialog-description",className:E("text-muted-foreground text-sm",t),...o})}function Jn({className:t,...o}){return e.jsx(Fn,{className:E(rt(),t),...o})}function Xn({className:t,...o}){return e.jsx(Bn,{className:E(rt({variant:"outline"}),t),...o})}function Qn(){const[t,o]=r.useState(!1),[n,s]=r.useState(!0),[a,d]=r.useState(null),[i,l]=r.useState(!1),[c,p]=r.useState(!1);r.useEffect(()=>{S()},[]);const S=async()=>{s(!0);try{const x=await go();o(x.isAuthenticated),d(x.user||null)}catch(x){console.error("Error checking Splitwise connection:",x)}finally{s(!1)}},u=async()=>{try{await xo()}catch(x){G.error("Failed to connect",{description:x.message})}},f=async()=>{p(!0);try{const x=await Eo.getCurrentUser();d(x),G.success("Refreshed Splitwise data")}catch(x){x.message==="UNAUTHORIZED"?(G.error("Session expired",{description:"Please reconnect your Splitwise account"}),await qe(),o(!1),d(null)):G.error("Failed to refresh",{description:x.message})}finally{p(!1)}},N=async()=>{await qe(),o(!1),d(null),l(!1),G.info("Disconnected from Splitwise")};return n?e.jsx(be,{children:e.jsx(_e,{className:"p-6 flex items-center justify-center",children:e.jsx(Ne,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):e.jsxs(e.Fragment,{children:[e.jsxs(be,{children:[e.jsx(Le,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:["Splitwise Integration",t&&e.jsx(Ao,{variant:"secondary",className:"bg-green-500/10 text-green-700 dark:text-green-400",children:"Connected"})]}),e.jsx(Fe,{children:t?"View and track your shared expenses":"Connect to import your Splitwise expenses"})]})})}),e.jsx(_e,{className:"space-y-4",children:t?e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[a.first_name," ",a.last_name]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.email})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{onClick:f,disabled:c,variant:"outline",size:"sm",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Refreshing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ko,{className:"mr-2 h-4 w-4"}),"Refresh"]})}),e.jsxs(he,{onClick:()=>l(!0),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:[e.jsx(st,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]})]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"rounded-lg border border-dashed p-4 text-center",children:e.jsxs(he,{onClick:u,className:"w-full sm:w-auto",children:[e.jsx(Mo,{className:"mr-2 h-4 w-4"}),"Connect Splitwise"]})})})})]}),e.jsx(zn,{open:i,onOpenChange:l,children:e.jsxs(Kn,{children:[e.jsxs(Yn,{children:[e.jsx(qn,{children:"Disconnect Splitwise?"}),e.jsx(Zn,{children:"This will remove your Splitwise connection and clear stored tokens. You can reconnect anytime."})]}),e.jsxs(Gn,{children:[e.jsx(Xn,{children:"Cancel"}),e.jsx(Jn,{onClick:N,className:"bg-destructive text-destructive-foreground",children:"Disconnect"})]})]})})]})}const er=[{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"},{code:"GBP",name:"British Pound"},{code:"INR",name:"Indian Rupee"},{code:"JPY",name:"Japanese Yen"},{code:"AUD",name:"Australian Dollar"},{code:"CAD",name:"Canadian Dollar"}],tr=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Paris","Asia/Tokyo","Asia/Kolkata","Australia/Sydney"],or=[{code:"en-US",name:"English (US)"},{code:"en-GB",name:"English (UK)"},{code:"en-IN",name:"English (India)"},{code:"de-DE",name:"German"},{code:"fr-FR",name:"French"},{code:"es-ES",name:"Spanish"},{code:"ja-JP",name:"Japanese"}],nr=[{value:0,name:"Sunday"},{value:1,name:"Monday"},{value:2,name:"Tuesday"},{value:3,name:"Wednesday"},{value:4,name:"Thursday"},{value:5,name:"Friday"},{value:6,name:"Saturday"}];function ir(){const{user:t,signOut:o}=vo(),n=So(),[s,a]=r.useState(!0),[d,i]=r.useState(!1),l=jo({resolver:Co(Lo),defaultValues:{base_currency:"INR",timezone:"UTC",locale:"en-US",first_day_of_week:0,first_day_of_month:1,number_format:"en-US"}});r.useEffect(()=>{c()},[t]);const c=async()=>{if(t)try{const{data:u,error:f}=await Ze.from("profiles").select("*").eq("user_id",t.id).single();if(f&&f.code!=="PGRST116")throw f;u&&l.reset({base_currency:u.base_currency,timezone:u.timezone,locale:u.locale,first_day_of_week:u.first_day_of_week,first_day_of_month:u.first_day_of_month,number_format:u.number_format})}catch(u){console.error("Error loading profile:",u),G.error("Failed to load profile",{description:u.message})}finally{a(!1)}},p=async u=>{if(t){i(!0);try{const{error:f}=await Ze.from("profiles").upsert({user_id:t.id,...u,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(f)throw f;G.success("Profile updated",{description:"Your settings have been saved"})}catch(f){console.error("Error saving profile:",f),G.error("Failed to save profile",{description:f.message})}finally{i(!1)}}},S=async()=>{await o(),n("/auth")};return s?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(Ne,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6 max-w-3xl",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Profile Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),e.jsxs(be,{children:[e.jsxs(Le,{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(wo,{className:"h-5 w-5"}),"Account Information"]}),e.jsx(Fe,{children:"Your account details and authentication status"})]}),e.jsxs(_e,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[e.jsx(No,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(_o,{className:"text-sm text-muted-foreground",children:"Email"}),e.jsx("p",{className:"font-medium",children:t?.email})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(Qn,{})}),e.jsxs(he,{onClick:S,variant:"destructive",className:"w-full sm:w-auto",children:[e.jsx(st,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}),e.jsxs(be,{children:[e.jsxs(Le,{children:[e.jsx(Ve,{children:"Preferences"}),e.jsx(Fe,{children:"Customize your app experience"})]}),e.jsx(_e,{children:e.jsx(bo,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(p),className:"space-y-6",children:[e.jsx(ie,{control:l.control,name:"base_currency",render:({field:u})=>e.jsxs(ce,{children:[e.jsx(de,{children:"Base Currency"}),e.jsxs(Se,{onValueChange:u.onChange,defaultValue:u.value,children:[e.jsx(ue,{children:e.jsx(ye,{children:e.jsx(we,{placeholder:"Select currency"})})}),e.jsx(je,{children:er.map(f=>e.jsxs(Ce,{value:f.code,children:[f.code," -"," ",f.name]},f.code))})]}),e.jsx(pe,{children:"Your primary currency for reporting"}),e.jsx(fe,{})]})}),e.jsx(ie,{control:l.control,name:"timezone",render:({field:u})=>e.jsxs(ce,{children:[e.jsx(de,{children:"Timezone"}),e.jsxs(Se,{onValueChange:u.onChange,defaultValue:u.value,children:[e.jsx(ue,{children:e.jsx(ye,{children:e.jsx(we,{placeholder:"Select timezone"})})}),e.jsx(je,{children:tr.map(f=>e.jsx(Ce,{value:f,children:f},f))})]}),e.jsx(pe,{children:"Used for scheduling and date display"}),e.jsx(fe,{})]})}),e.jsx(ie,{control:l.control,name:"locale",render:({field:u})=>e.jsxs(ce,{children:[e.jsx(de,{children:"Language & Region"}),e.jsxs(Se,{onValueChange:u.onChange,defaultValue:u.value,children:[e.jsx(ue,{children:e.jsx(ye,{children:e.jsx(we,{placeholder:"Select locale"})})}),e.jsx(je,{children:or.map(f=>e.jsx(Ce,{value:f.code,children:f.name},f.code))})]}),e.jsx(pe,{children:"Affects date and number formatting"}),e.jsx(fe,{})]})}),e.jsx(ie,{control:l.control,name:"first_day_of_week",render:({field:u})=>e.jsxs(ce,{children:[e.jsx(de,{children:"First Day of Week"}),e.jsxs(Se,{onValueChange:f=>u.onChange(parseInt(f)),defaultValue:u.value.toString(),children:[e.jsx(ue,{children:e.jsx(ye,{children:e.jsx(we,{placeholder:"Select day"})})}),e.jsx(je,{children:nr.map(f=>e.jsx(Ce,{value:f.value.toString(),children:f.name},f.value))})]}),e.jsx(pe,{children:"Used in calendar and reports"}),e.jsx(fe,{})]})}),e.jsx(ie,{control:l.control,name:"first_day_of_month",render:({field:u})=>e.jsxs(ce,{children:[e.jsx(de,{children:"First Day of Month"}),e.jsx(ue,{children:e.jsx(Io,{type:"number",min:1,max:28,...u,onChange:f=>u.onChange(parseInt(f.target.value))})}),e.jsx(pe,{children:"For monthly budget cycles (1-28)"}),e.jsx(fe,{})]})}),e.jsxs(he,{type:"submit",className:"w-full sm:w-auto",disabled:d,children:[d&&e.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),d?"Saving...":"Save Changes"]})]})})})]})]})}export{ir as default};
